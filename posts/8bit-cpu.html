<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta http-equiv="X-UA-Compatible" content="ie=edge" />
  <title>My 8 Bit CPU</title>
  <meta name="author" content="Elijah Tarr" />
  <meta name="description" content="oriont's posts" />
  <meta name="keywords" content="coding,programming" />

  <link rel="stylesheet" href="/assets/css/style.css" />
  <script>
    if (
      localStorage.getItem("color-theme") === "dark" ||
      (!("color-theme" in localStorage) &&
        window.matchMedia("(prefers-color-scheme: dark)").matches)
    ) {
      document.documentElement.classList.add("dark");
    } else {
      document.documentElement.classList.remove("dark");
    }
  </script>

  

  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script
    async
    src="https://www.googletagmanager.com/gtag/js?id=G-YW05BX01LE"
  ></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() {
      dataLayer.push(arguments);
    }
    gtag("js", new Date());

    gtag("config", "G-YW05BX01LE");
  </script>
</head>


  <body class="dark:bg-zinc-800">
    <div class="container w-full md:max-w-3xl mx-auto pt-2 md:pt-10">
      <div
        class="w-full px-4 md:px-6 text-xl text-gray-800 leading-normal"
        style="font-family: Georgia, serif"
      >
        
        <div class="flex pt-2">
          <p class="my-auto p-0"><a href="/" class="link pr-5">Home</a></p>
          <button
  id="theme-toggle"
  type="button"
  class="text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-4 focus:ring-gray-200 dark:focus:ring-gray-700 rounded-lg text-sm p-2.5"
>
  <svg
    id="theme-toggle-light-icon"
    xmlns="http://www.w3.org/2000/svg"
    fill="none"
    viewBox="0 0 24 24"
    stroke-width="1.5"
    stroke="currentColor"
    class="w-6 h-6 hidden"
  >
    <path
      stroke-linecap="round"
      stroke-linejoin="round"
      d="M12 3v2.25m6.364.386l-1.591 1.591M21 12h-2.25m-.386 6.364l-1.591-1.591M12 18.75V21m-4.773-4.227l-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0z"
    />
  </svg>

  <svg
    id="theme-toggle-dark-icon"
    xmlns="http://www.w3.org/2000/svg"
    fill="none"
    viewBox="0 0 24 24"
    stroke-width="1.5"
    stroke="currentColor"
    class="w-6 h-6 hidden"
  >
    <path
      stroke-linecap="round"
      stroke-linejoin="round"
      d="M21.752 15.002A9.718 9.718 0 0118 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 003 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 009.002-5.998z"
    />
  </svg>
</button>

<script>
  var themeToggleDarkIcon = document.getElementById("theme-toggle-dark-icon");
  var themeToggleLightIcon = document.getElementById("theme-toggle-light-icon");

  // Change the icons inside the button based on previous settings
  if (
    localStorage.getItem("color-theme") === "dark" ||
    (!("color-theme" in localStorage) &&
      window.matchMedia("(prefers-color-scheme: dark)").matches)
  ) {
    themeToggleLightIcon.classList.remove("hidden");
  } else {
    themeToggleDarkIcon.classList.remove("hidden");
  }

  var themeToggleBtn = document.getElementById("theme-toggle");

  themeToggleBtn.addEventListener("click", function () {
    // toggle icons inside button
    themeToggleDarkIcon.classList.toggle("hidden");
    themeToggleLightIcon.classList.toggle("hidden");

    // if set via local storage previously
    if (localStorage.getItem("color-theme")) {
      if (localStorage.getItem("color-theme") === "light") {
        document.documentElement.classList.add("dark");
        localStorage.setItem("color-theme", "dark");
      } else {
        document.documentElement.classList.remove("dark");
        localStorage.setItem("color-theme", "light");
      }

      // if NOT set via local storage previously
    } else {
      if (document.documentElement.classList.contains("dark")) {
        document.documentElement.classList.remove("dark");
        localStorage.setItem("color-theme", "light");
      } else {
        document.documentElement.classList.add("dark");
        localStorage.setItem("color-theme", "dark");
      }
    }
  });
</script>

        </div>
         
        <h1 class="pt-3 md:pt-6 text-3xl md:text-4xl">My 8 Bit CPU</h1>
         
        <p class="md:text-base font-normal text-gray-600 dark:text-gray-400">
          2020-08-03
        </p>
        

        <div id="markdown"><p>Yes, I redid my website again in jekyll, but I seem to keep getting distracted by that. On with the post!</p>

<h1 id="the-orion-1">The ORION-1</h1>

<p>The ORION-1 is an 8 Bit CPU that was heavily inspired by <a href="https://www.youtube.com/watch?v=HyznrdDSSGM&amp;list=PLowKtXNTBypGqImE405J2565dvjafglHU">Ben Eater’s CPU</a>.
Currently, it has 16 bytes of ram, which implies a 4 bit address register.
Obviously 16 bytes isn’t really enough to do anything at all, but fear not! I have upgrades planned.</p>

<h1 id="alu">ALU</h1>

<p>The ALU stands for the Arithmetic and Logic Unit.
It can currently add and subtract 2 8 bit numbers in binary.
The add and subtract circuits are actually the same circuit, but with the subtract, I convert the second number to <a href="https://en.wikipedia.org/wiki/Two%27s_complement">Two’s Complement</a>.
Two’s Complement is basically turning a number negative, using the carry bit. What does that mean?
Since it’s much more difficult to grasp concepts in binary, let’s translate it to decimal.
Imagine we want to subtract 50 - 30. Just from looking at it, we can see that it’s equal to 20, but how can we get there from addition?
Well, we can alter the second number. If we invert the second number, which means subtract it from 100, (yes, I know this is cheating, but bear with me)
We get 70 as the answer. Now, add the two numbers, 50 + 70, and the result is 120.
Obviously, 120 isn’t equal to 20, but here’s the thing. If we just shift off that last decimal place, we <em>are</em> left with 20!
In binary, we can easily shift off that last place, because it is contained in 1 wire, so all that needs to be done is to disconnect that wire.
And the reason we are allowed to subtract the value from 100 is because in binary, to invert the value, there are 2 simple steps.</p>

<ol>
  <li>Invert all the bits. This effectively subtracts the value from 256, which is 2^8, just as we subtract the value from 100, which is 10^2.</li>
  <li>Add 1. Since this is binary, the value is actually going to be 1 less than what it should be, because counting starts at 0 and goes to 255.
After those 2 steps, you have successfully turned a binary value negative! This does mean, however, that you can only use 7 of the bits to store the number.</li>
</ol>

<h1 id="registers">Registers</h1>

<p>There are 2 special purpose registers (A &amp; B) which are both hooked up directly to the ALU.
They use 74LS173’s with 74LS245’s as bus transcievers.</p>

<h1 id="speed">Speed</h1>

<p>The current (predicted) maximum speed of the CPU is around 6.66 MHz, because the slowest chips in this build by far are the EEPROMS.
Their switching speed is about 150ns, which is faster than any human can percieve, but if that was the switching speed of your CPU,
you probabaly would still be launching your web browser.
The slow speed from the EEPROMs is expected, however, because it takes time for the decoders inside to decode the address and retrieve the data from the address.</p>

<h1 id="future-upgrades">Future Upgrades</h1>

<p>As I said earlier, I do plan to make upgrades to it. I will be upgrading the 16 bytes of SRAM to hopefully 32K SRAM and 32K ROM.
This way I can upload a program from my (desktop) computer onto the ROM and plug it into the CPU for fast testing!
(Fast compared to what I have now: a couple DIP switches for manually programming each byte into RAM whenever the computer turns on)
Another upgrade I want to make is to disconnect the A and B registers from the ALU, which would allow me to add more general purpose registers,
which can all interface with the ALU. It would also allow me to more easily add upgrades to the ALU, such as bitwise logic, and hardware multiplication/division. Another quick upgrade I wanted to add was a 16x2 LCD screen, which should be fairly easy to implement.
All I would need to do is to connect the data pins to the bus, clock to the clock, and some control signals for inputting data.
The last thing I wanted to do is to convert the CPU from all breadboards to all PCB’s with labels.
I could then be a lot less fragile with everything, and everything could be portable!</p>

<h1 id="video">Video</h1>

<p>I have a <a href="https://www.youtube.com/channel/UCiydtLctNvtvO2ieS_A0eLQ">youtube channel</a> which I just posted a video on what I have so far.
Since you are reading this, you should definitely check it out!
<br /></p>

<iframe width="560" height="315" src="https://www.youtube.com/embed/5-VjUx2_mFI" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe>

</div>

        <footer class="text-slate-400 pt-10 pb-7">
          <a class="link" href="/">Home</a> -
          <a class="link" href="/about">About</a> -
          <a class="link" href="/resume">Resume</a> -
          <a class="link" href="/games">Games</a>
          <br />
          Copyright © 2023 - Elijah Tarr
        </footer>
      </div>
    </div>
  </body>
</html>
